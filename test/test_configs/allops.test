	SECTION	"RST00",HOME[$00]
RST_00:	
	jp	$100

	SECTION	"RST08",HOME[$08]
RST_08:	
	jp	$100

	SECTION	"RST10",HOME[$10]
RST_10:
	jp	$100

	SECTION	"RST18",HOME[$18]
RST_18:
	jp	$100

	SECTION	"RST20",HOME[$20]
RST_20:
	jp	$100

	SECTION	"RST28",HOME[$28]
RST_28:
	jp	$100

	SECTION	"RST30",HOME[$30]
RST_30:
	jp	$100

	SECTION	"RST38",HOME[$38]
RST_38:
	jp	$100

	SECTION	"VBlankIRQ",HOME[$40]
VBL_VECT:
	reti
	
	SECTION	"LCDIRQ",HOME[$48]
LCD_VECT:
	reti

	SECTION	"TimerIRQ",HOME[$50]
TIMER_VECT:
	reti

	SECTION	"SerialIRQ",HOME[$58]
SERIAL_VECT:
	reti

	SECTION	"JoypadIRQ",HOME[$60]
JOYPAD_VECT:
	reti

SECTION "START",HOME[0x100]
NOP
JP 0x200 
	;; $0104-$0133 (Nintendo logo - do _not_ modify the logo data here or the GB will not run the program)
	DB	$CE,$ED,$66,$66,$CC,$0D,$00,$0B,$03,$73,$00,$83,$00,$0C,$00,$0D
	DB	$00,$08,$11,$1F,$88,$89,$00,$0E,$DC,$CC,$6E,$E6,$DD,$DD,$D9,$99
	DB	$BB,$BB,$67,$63,$6E,$0E,$EC,$CC,$DD,$DC,$99,$9F,$BB,$B9,$33,$3E

	;; $0134-$013E (Game title - up to 11 upper case ASCII characters; pad with $00)
	DB	"TEST GBCPU"
	;; $013F-$0142 (Product code - 4 ASCII characters, assigned by Nintendo, just leave blank)
	DB	"    "
	;; $0143 (Color GameBoy compatibility code)
	DB	$00	;; $00 - DMG 
			;; $80 - DMG/GBC
			;; $C0 - GBC Only cartridge
	;; $0144 (High-nibble of license code - normally $00 if $014B != $33)
	DB	$00
	;; $0145 (Low-nibble of license code - normally $00 if $014B != $33)
	DB	$00
	;; $0146 (GameBoy/Super GameBoy indicator)
	DB	$00	;; $00 - GameBoy
	;; $0147 (Cartridge type - all Color GameBoy cartridges are at least $19)
	DB	$00	;; $00 - ROM Only
	;; $0148 (ROM size)
	DB	$00	;; $00 - 256Kbit = 32Kbyte = 2 banks
	;; $0149 (RAM size)
	DB	$00	;; $00 - None
	;; $014A (Destination code)
	DB	$00	;; $01 - All others
			;; $00 - Japan
	;; $014B (Licensee code - this _must_ be $33)
	DB	$33	;; $33 - Check $0144/$0145 for Licensee code.
	;; $014C (Mask ROM version - handled by RGBFIX)
	DB	$00
	;; $014D (Complement check)
	DB	$00
	;; $014E-$014F (Cartridge checksum)
	DB	$00,$00

SECTION "TEST",HOME[0x200]
NOP ; CYCLES=4
LD BC,0x100 ; BC=0xC500 CYCLES=16
LD A,0xFF ; A=0xFF CYCLES=24
LD (BC),A ; MEM[0xC500]=0xFF CYCLES=32
INC BC ; BC=0xC501 CYCLES=40
INC B ; B=0xC6 BC=0xC601 CYCLES=44
DEC B ; B=0xC5 BC=0xC501 CYCLES=48
LD B,0xC1 ; B=0xC1 BC=0xC101 CYCLES=56
RLCA ; A=0xFE F=0x10 CYCLES=60
LD HL,0xC5C5 ; H=0xC5 L=0xC5 HL=0xC5 CYCLES=72
LD SP,HL ; SP=0xC5C5 CYCLES=88
LD (0xC500),SP ; MEM[0xC500]=0xC5C5 CYCLES=108 
LD HL,SP+0x02 ; HL=0xC5C7 SP=0xC5C5 CYCLES=120
ADD HL,BC ; HL=0x86C8 BC=0xC101 F=0x10 CYCLES=128
LD (HL),0x02 ; HL=0x86C8 MEM[0x86C8]=0x02 CYCLES=140  
LD A,(HL+) ; HL=0x86C9 A=0x02 MEM[0x86C8]=0x02 CYCLES=148
LD A,(BC) ; A=0x0 BC=0xC101 CYCLES=156 
DEC BC ; BC=0xC100 CYCLES=164
INC C ; C=0x01 BC=0xC101 CYCLES=168
DEC C ; C=0x00 BC=0xC100 CYCLES=172
LD C,0xEE ; C=0xEE BC=0xC1EE CYCLES=180
INC A ; A=0x01 CYCLES=184
RRCA ; A=0x00 F=0x10 CYCLES=188
LD DE,0xC400 ; DE=0xC400 CYCLES=200
LD (DE),A ; MEM[0xC400]=0x0 CYCLES=208
INC DE ; DC=0xC401 CYCLES=212
INC D ; D=0x02 CYCLES=216
DEC D ; D=0x01 CYCLES=220
LD D,0x16 ; D=0x16 CYCLES=228
RLA ; A=0x0 F=0x80 CYCLES=232
LD E,0xCC ; E=0xCC D=0x16 DE=0x16EE CYCLES=240
ADD HL,DE ; HL=0x9DB7 F=0x20 CYCLES=248
LD DE,0xC400 ; DE=0xC400 CYCLES=260
DEC A ; A=0xFF F=0x50 CYCLES=264
LD A,(DE) ; A=0x0 CYCLES=272
DEC DE ; DE=0xC3FF CYCLES=280
INC E ; DE=0xC300 E=0x00 D=0xC3 CYCLES=284
DEC E ; DE=0xC3FF E=0xFF D=0xC3 CYCLES=288
LD HL, 0xE300 ; HL=0xE300 CYCLES=302 
ADD HL,HL ; HL=0xC600 CYCLES=310
LD A,0x20 ; A=0x20 CYCLES=318
LD (HL+),A ; MEM[0xC600]=0x20 HL=0xC601 CYCLES=326
INC HL ; HL=0xC602 CYCLES=334
INC H ; H=0xC7 HL=0xC702 CYCLES=338
DEC H ; H=0xC6 HL=0xC602 CYCLES=342
LD H,0xC3 ; H=0xC3 HL=0xC302 CYCLES=350
LD L,0x00 ; L=0x00 HL=0xC300 CYCLES=358
DEC HL ; H=0xC2 HL=0xC2FF L=0xFF CYCLES=366
INC L ; H=0xC2 HL=0xC200 L=0x00 F=0x10 CYCLES=370
DEC L ; H=0xC2 HL=0xC2FF L=0xFF F=0x40 CYCLES=374
CPL ; A=0xDF F=0x60 CYCLES=378
RRA ; CYCLES=382

LD SP,d16 ;
ADD SP,r8
LD (HL-),A
INC SP
INC (HL)
DEC (HL)
ADD HL,SP
DEC SP

PUSH BC
PUSH DE
PUSH HL
PUSH AF
POP BC
POP AF
POP HL
POP AF







SUB d8
SBC A,d8
LDH (a8),A





SCF
CCF

LD A,(HL-)
LD B,(HL)
LD C,(HL)
LD D,(HL)
LD E,(HL)
LD H,(HL)
LD L,(HL)
LD (HL),B
LD (HL),C
LD (HL),D
LD (HL),E
LD (HL),H
LD (HL),L
LD (HL),A
LD A,(HL)
LD B,B
LD B,C
LD B,D
LD B,E
LD B,H
LD B,L

LD B,A
LD C,B
LD C,C
LD C,D
LD C,E
LD C,H
LD C,L

LD C,A
LD D,B
LD D,C
LD D,D
LD D,E
LD D,H
LD D,L

LD D,A
LD E,B
LD E,C
LD E,D
LD E,E
LD E,H
LD E,L

LD E,A
LD H,B
LD H,C
LD H,D
LD H,E
LD H,H
LD H,L

LD H,A
LD L,B
LD L,C
LD L,D
LD L,E
LD L,H
LD L,L

LD L,A

LD A,B
LD A,C
LD A,D
LD A,E
LD A,H
LD A,L

LD A,A
ADD A,B
ADD A,C
ADD A,D
ADD A,E
ADD A,H
ADD A,L
ADD A,(HL)
ADD A,A
ADC A,B
ADC A,C
ADC A,D
ADC A,E
ADC A,H
ADC A,L
ADC A,(HL)
ADC A,A
SUB B
SUB C
SUB D
SUB E
SUB H
SUB L
SUB (HL)
SUB A
SBC A,B
SBC A,C
SBC A,D
SBC A,E
SBC A,H
SBC A,L
SBC A,(HL)
SBC A,A
AND B
AND C
AND D
AND E
AND H
AND L
AND (HL)
AND A
XOR B
XOR C
XOR D
XOR E
XOR H
XOR L
XOR (HL)
XOR A
OR B
OR C
OR D
OR E
OR H
OR L
OR (HL)
OR A
CP B
CP C
CP D
CP E
CP H
CP L
CP (HL)
CP A


ADD A,d8
ADC A,d8

AND d8
CP d8
XOR d8
LDH A,(a8)
LD A,(a16)
LD A,(C)
LD (a16),A
LD (C),A
OR d8

RST 00H
RST 08H
RST 10H
RST 18H
RST 20H
RST 28H
RST 30H
RST 38H

JR r8
JR NZ,r8
JR Z,r8
JP NZ,a16
JP a16
CALL NZ,a16
JP Z,a16
JP NC,a16
JP C,a16
CALL C,a16
JR C,r8
CALL NC,a16
DAA
CALL Z,a16
CALL a16
JP (HL)

RET Z
RET NZ
RET
RET C
RETI
RET NC




DI






EI



RLC B
RLC C
RLC D
RLC E
RLC H
RLC L
RLC (HL)
RLC A
RRC B
RRC C
RRC D
RRC E
RRC H
RRC L
RRC (HL)
RRC A
RL B
RL C
RL D
RL E
RL H
RL L
RL (HL)
RL A
RR B
RR C
RR D
RR E
RR H
RR L
RR (HL)
RR A
SLA B
SLA C
SLA D
SLA E
SLA H
SLA L
SLA (HL)
SLA A
SRA B
SRA C
SRA D
SRA E
SRA H
SRA L
SRA (HL)
SRA A
SWAP B
SWAP C
SWAP D
SWAP E
SWAP H
SWAP L
SWAP (HL)
SWAP A
SRL B
SRL C
SRL D
SRL E
SRL H
SRL L
SRL (HL)
SRL A
BIT 0,B
BIT 0,C
BIT 0,D
BIT 0,E
BIT 0,H
BIT 0,L
BIT 0,(HL)
BIT 0,A
BIT 1,B
BIT 1,C
BIT 1,D
BIT 1,E
BIT 1,H
BIT 1,L
BIT 1,(HL)
BIT 1,A
BIT 2,B
BIT 2,C
BIT 2,D
BIT 2,E
BIT 2,H
BIT 2,L
BIT 2,(HL)
BIT 2,A
BIT 3,B
BIT 3,C
BIT 3,D
BIT 3,E
BIT 3,H
BIT 3,L
BIT 3,(HL)
BIT 3,A
BIT 4,B
BIT 4,C
BIT 4,D
BIT 4,E
BIT 4,H
BIT 4,L
BIT 4,(HL)
BIT 4,A
BIT 5,B
BIT 5,C
BIT 5,D
BIT 5,E
BIT 5,H
BIT 5,L
BIT 5,(HL)
BIT 5,A
BIT 6,B
BIT 6,C
BIT 6,D
BIT 6,E
BIT 6,H
BIT 6,L
BIT 6,(HL)
BIT 6,A
BIT 7,B
BIT 7,C
BIT 7,D
BIT 7,E
BIT 7,H
BIT 7,L
BIT 7,(HL)
BIT 7,A
RES 0,B
RES 0,C
RES 0,D
RES 0,E
RES 0,H
RES 0,L
RES 0,(HL)
RES 0,A
RES 1,B
RES 1,C
RES 1,D
RES 1,E
RES 1,H
RES 1,L
RES 1,(HL)
RES 1,A
RES 2,B
RES 2,C
RES 2,D
RES 2,E
RES 2,H
RES 2,L
RES 2,(HL)
RES 2,A
RES 3,B
RES 3,C
RES 3,D
RES 3,E
RES 3,H
RES 3,L
RES 3,(HL)
RES 3,A
RES 4,B
RES 4,C
RES 4,D
RES 4,E
RES 4,H
RES 4,L
RES 4,(HL)
RES 4,A
RES 5,B
RES 5,C
RES 5,D
RES 5,E
RES 5,H
RES 5,L
RES 5,(HL)
RES 5,A
RES 6,B
RES 6,C
RES 6,D
RES 6,E
RES 6,H
RES 6,L
RES 6,(HL)
RES 6,A
RES 7,B
RES 7,C
RES 7,D
RES 7,E
RES 7,H
RES 7,L
RES 7,(HL)
RES 7,A
SET 0,B
SET 0,C
SET 0,D
SET 0,E
SET 0,H
SET 0,L
SET 0,(HL)
SET 0,A
SET 1,B
SET 1,C
SET 1,D
SET 1,E
SET 1,H
SET 1,L
SET 1,(HL)
SET 1,A
SET 2,B
SET 2,C
SET 2,D
SET 2,E
SET 2,H
SET 2,L
SET 2,(HL)
SET 2,A
SET 3,B
SET 3,C
SET 3,D
SET 3,E
SET 3,H
SET 3,L
SET 3,(HL)
SET 3,A
SET 4,B
SET 4,C
SET 4,D
SET 4,E
SET 4,H
SET 4,L
SET 4,(HL)
SET 4,A
SET 5,B
SET 5,C
SET 5,D
SET 5,E
SET 5,H
SET 5,L
SET 5,(HL)
SET 5,A
SET 6,B
SET 6,C
SET 6,D
SET 6,E
SET 6,H
SET 6,L
SET 6,(HL)
SET 6,A
SET 7,B
SET 7,C
SET 7,D
SET 7,E
SET 7,H
SET 7,L
SET 7,(HL)
SET 7,A

HALT
STOP 0 ; CYCLES=192
